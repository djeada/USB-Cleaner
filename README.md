# USB-Cleaner Pro v2.0

<div align="center">

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                           â•‘
â•‘     â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â•‘
â•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—      â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â•‘
â•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â•‘
â•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â•‘
â•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•      â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ•‘
â•‘      â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•        â•šâ•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•‘
â•‘                                                                           â•‘
â•‘                    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                       â•‘
â•‘                    â–ˆ SECURE USB DRIVE SANITIZER â–ˆ                         â•‘
â•‘                    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                       â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**A professional-grade USB drive sanitization and management tool**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)](https://github.com/djeada/USB-Cleaner)
[![Bash](https://img.shields.io/badge/bash-5.0%2B-green.svg)](https://www.gnu.org/software/bash/)

</div>

---

## âœ¨ Features

### ğŸ”’ Security Features
- **Multiple Wipe Methods**: Single-pass zero, Triple-pass DoD 5220.22-M, Seven-pass Gutmann, Random, and Custom patterns
- **Wipe Verification**: Automatic verification with sampling at multiple points on the drive
- **Pre-wipe Hashing**: Cryptographic hash calculation before and after wipe operations
- **Secure Random Sources**: Support for both `/dev/urandom` and `/dev/zero` data sources

### ğŸ’¾ Filesystem Support
- **FAT32**: Universal compatibility (4GB file limit)
- **ext4**: Linux native with journaling
- **NTFS**: Windows compatible, large file support
- **exFAT**: Cross-platform, no file size limits
- **Btrfs**: Modern Linux with snapshots and checksums
- **XFS**: High-performance Linux filesystem

### ğŸ“Š Drive Management
- **Drive Health Monitoring**: SMART data analysis (requires `smartctl`)
- **Detailed Drive Information**: Model, vendor, serial number, capacity display
- **Partition Layout Viewer**: Visual representation of current partitions
- **GPT & MBR Support**: Both modern and legacy partition table types

### ğŸ’¾ Backup & Restore
- **Compressed Backups**: gzip and xz compression options
- **Checksum Verification**: SHA256 integrity validation
- **Easy Restore**: Simple backup restoration with compression auto-detection

### ğŸ¨ User Experience
- **Modern TUI**: Colorful terminal interface with ASCII art branding
- **Progress Indicators**: Real-time progress bars with ETA
- **Command Line Interface**: Full CLI support with options and commands
- **Configuration System**: Persistent settings saved to `~/.config/usb-cleaner/`
- **Dry Run Mode**: Preview operations without making changes
- **Desktop Notifications**: Optional notification support

### ğŸ“ Logging
- **Structured Logging**: Text or JSON format
- **Verbose Mode**: Detailed debug output
- **Operation Timestamps**: Complete audit trail

---

## ğŸ“‹ Requirements

### Operating System
- Linux-based OS (Ubuntu, Debian, CentOS, Fedora, Arch, etc.)
- Tested on Ubuntu 20.04 LTS and later

### Privileges
- Root/sudo access required for disk operations

### Dependencies
The script will automatically install missing dependencies:
- `lsblk` - Block device information
- `parted` - Partition manipulation
- `dd` - Low-level data copying
- `wipefs` - Filesystem signature removal
- `pv` - Progress viewing (optional)
- `smartctl` - SMART health monitoring (optional)
- Filesystem tools: `mkfs.vfat`, `mkfs.ext4`, `mkfs.ntfs`, `mkfs.exfat`, `mkfs.btrfs`, `mkfs.xfs`

---

## ğŸš€ Installation

```bash
# Clone the repository
git clone https://github.com/djeada/USB-Cleaner.git

# Navigate to the directory
cd USB-Cleaner/src

# Make executable (if needed)
chmod +x cleaner.sh

# Run the script
./cleaner.sh
```

---

## ğŸ“– Usage

### Interactive Mode

```bash
./cleaner.sh
```

This launches the interactive menu with all options:

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      MAIN MENU                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  1) Wipe USB Drive(s)        - Secure data destruction             â•‘
â•‘  2) Create Partition         - Format with new filesystem          â•‘
â•‘  3) Quick Format             - Fast format (no wipe)               â•‘
â•‘  4) Secure Erase             - 7-pass maximum security             â•‘
â•‘  5) Drive Information        - View drive details & health         â•‘
â•‘  6) Backup Drive             - Create drive image backup           â•‘
â•‘  7) Restore Backup           - Restore from backup image           â•‘
â•‘  8) Configuration            - Save/load settings                  â•‘
â•‘  9) Help                     - Show detailed help                  â•‘
â•‘  0) Exit                     - Quit program                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Command Line Interface

```bash
# Show help
./cleaner.sh --help

# Show version
./cleaner.sh --version

# Wipe with dry-run (preview only)
./cleaner.sh --dry-run wipe

# Force wipe without prompts
./cleaner.sh --force wipe

# Create partition with verbose output
./cleaner.sh --verbose partition

# View drive information
./cleaner.sh info

# Check drive health
./cleaner.sh health

# Quick format
./cleaner.sh quick-format

# Maximum security wipe
./cleaner.sh secure-erase
```

### Available Commands

| Command | Description |
|---------|-------------|
| `wipe` | Securely wipe USB drive(s) |
| `partition` | Create partition on USB drive(s) |
| `info` | Display detailed drive information |
| `health` | Check drive health (SMART data) |
| `backup` | Create backup image of USB drive |
| `restore` | Restore backup image to USB drive |
| `verify` | Verify wipe operation |
| `quick-format` | Fast format without secure wipe |
| `secure-erase` | 7-pass maximum security wipe |
| `config` | Manage configuration |

### Available Options

| Option | Description |
|--------|-------------|
| `-h, --help` | Show help message |
| `-v, --version` | Display version |
| `-d, --dry-run` | Simulate operations |
| `-f, --force` | Skip confirmations |
| `-q, --quiet` | Suppress output |
| `--verbose` | Enable debug output |
| `--parallel` | Process drives in parallel |
| `--no-color` | Disable colored output |
| `--json` | JSON format for logs |
| `--notify` | Enable desktop notifications |
| `--no-verify` | Skip wipe verification |

---

## ğŸ” Wipe Methods

### 1. Single Pass (Zero)
- **Speed**: Fastest
- **Security**: Basic
- **Method**: Overwrites with zeros
- **Use Case**: Quick data removal

### 2. Triple Pass (DoD 5220.22-M)
- **Speed**: Moderate
- **Security**: High
- **Method**: Zero â†’ Random â†’ Zero
- **Use Case**: Government/enterprise standards

### 3. Seven Pass (Gutmann-lite)
- **Speed**: Slow
- **Security**: Maximum
- **Method**: Alternating zero and random passes
- **Use Case**: Highest security requirements

### 4. Random Only
- **Speed**: Moderate
- **Security**: Good
- **Method**: Single pass with random data
- **Use Case**: Randomized destruction

### 5. Custom Pattern
- **Speed**: Variable
- **Security**: User-defined
- **Method**: User-specified hex pattern
- **Use Case**: Special requirements

---

## âš™ï¸ Configuration

Settings are stored in `~/.config/usb-cleaner/config`:

```bash
# USB-Cleaner Pro Configuration

# Logging
LOG_FORMAT="text"      # text or json
VERBOSE="false"        # Enable debug output

# Behavior
DRY_RUN="false"        # Simulate operations
FORCE="false"          # Skip confirmations
PARALLEL="false"       # Process drives in parallel
VERIFY_WIPE="true"     # Verify after wipe

# Notifications
NOTIFICATION="false"   # Desktop notifications

# Paths
BACKUP_DIR="$HOME/usb-backups"
```

---

## ğŸ“Š Example Session

```bash
$ sudo ./cleaner.sh

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    USB-CLEANER PRO v2.0                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Select option: 1

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    AVAILABLE USB DRIVES                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  1. /dev/sdb    - SanDisk_Ultra            (16G)                   â•‘
â•‘  2. /dev/sdc    - Kingston_DataTraveler    (32G)                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Select drives by space-separated numbers: 1

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘               DRIVE INFORMATION                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Device:         /dev/sdb                                           â•‘
â•‘ Model:          SanDisk_Ultra                                      â•‘
â•‘ Vendor:         SanDisk                                            â•‘
â•‘ Size:           16G                                                â•‘
â•‘ Serial:         ABC123456789                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš  You have chosen /dev/sdb. Proceed? [y/n]: y

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚              SELECT WIPE METHOD                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1) Single Pass (Zero)     - Fast, basic security       â”‚
â”‚  2) Triple Pass (DoD)      - US DoD 5220.22-M standard  â”‚
â”‚  3) Seven Pass (Gutmann)   - Maximum security           â”‚
â”‚  4) Random Only            - /dev/urandom single pass   â”‚
â”‚  5) Custom Pattern         - User-defined pattern       â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Choice: 1

â–¶ Pass 1/1: Zero fill...
16106127360 bytes (16 GB) copied, 45.123 s, 357 MB/s

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âœ“ WIPE COMPLETED                                                  â•‘
â•‘    Drive: /dev/sdb                                                 â•‘
â•‘    Duration: 0m 45s                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Create a new partition? [y/n]: y

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚              SELECT FILESYSTEM                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1) FAT32    - Universal compatibility (4GB limit)      â”‚
â”‚  2) ext4     - Linux native, journaling                 â”‚
â”‚  3) NTFS     - Windows compatible, large files          â”‚
â”‚  4) exFAT    - Cross-platform, no file size limit       â”‚
â”‚  5) Btrfs    - Modern Linux, snapshots, checksums       â”‚
â”‚  6) XFS      - High-performance Linux filesystem        â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Choice: 1

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âœ“ PARTITION CREATED                                               â•‘
â•‘    Device: /dev/sdb1                                               â•‘
â•‘    Filesystem: fat32 | Label: FAT32                                â•‘
â•‘    Table: msdos                                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ§ª Testing

```bash
# Run all tests
bats tests/cleaner.bats

# Run specific test
bats tests/cleaner.bats --filter "log function"
```

---

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a Pull Request. For major changes, please open an issue first to discuss what you would like to change.

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## ğŸ“œ License

This project is licensed under the [MIT License](https://github.com/djeada/USB-Cleaner/blob/main/LICENSE).

---

## âš ï¸ Disclaimer

**USE AT YOUR OWN RISK.** This tool performs irreversible operations on storage devices. Always:

- Double-check the selected drive before confirming operations
- Create backups of important data before wiping
- Verify you're wiping the correct device
- Test with `--dry-run` first if unsure

The authors are not responsible for any data loss resulting from the use of this software.

---

<div align="center">

**Made with â¤ï¸ for secure data destruction**

*Stay secure! ğŸ”’*

</div>
